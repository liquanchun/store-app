<div class="row">
  <div class="col-md-12">
    <ba-card [title]="title" class="card-primary" baCardClass="with-scroll">
      <div style="margin-bottom: 5px;">
        <div class="row">
          <div class="col-3">
            <search-input (searchClick)="onSearch($event)"></search-input>
          </div>
          <div class="col-1">
            <a class="btn btn-secondary" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false"
              aria-controls="collapseExample">
              高级查询
            </a>
          </div>

          <div class="col-8">
            <div class="btn-group pull-right margin8" role="group" aria-label="Basic example">
              <button (click)="getDataList()" type="button" class="btn btn-info btn-sm">
                <i class="fa fa-refresh" aria-hidden="true"></i> 刷新</button>
            </div>
            <div class="btn-group pull-right margin8" role="group" aria-label="Basic example">
              <button (click)="onCreate()" type="button" class="btn btn-info btn-sm">
                <i class="fa fa-pencil" aria-hidden="true"></i> 新增</button>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <div class="collapse" id="collapseExample">
              <div class="card card-body">
                <app-search-form [formView]="searchview" (searchClick)="onSearchAll($event)"></app-search-form>
              </div>
            </div>
          </div>
        </div>

        <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '4px' }"></ngx-loading>
        <div style="overflow-x:auto;width: 100%;white-space: nowrap;">
          <ng2-smart-table [settings]="newSettings" [source]="source" (rowSelect)="onSelected($event)" (edit)="onEdit($event)"
            (delete)="onDelete($event)">
          </ng2-smart-table>
          <div style="color: blue;" [class.total]="totalRecord > 10">总记录：{{totalRecord}}</div>
        </div>
      </div>

      <ngb-tabset>
        <ngb-tab *ngFor="let view of subViewName" [title]="view.Title">
          <ng-template ngbTabContent>
            <div class="row">
              <div class="col-md-12">
                <app-show-form [formView]="view" [mainTableID]="mainTableID"></app-show-form>
              </div>
            </div>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
    </ba-card>
  </div>
</div>


<div class="bill">
  <div class="row">
    <div class="col-md-12 text-center title">
      BMW新车销售订购单
    </div>
  </div>
  <div class="row">
    <div class="col-md-4 text-left">
      <div class="form-group row">
        <label for="inputremark" class="col-md-3 col-form-label">订单号</label>
        <div class="col-md-9">
          {{printOrder.OrderId}}
        </div>
      </div>
    </div>
    <div class="col-md-4 text-left">
      <div class="form-group row">
        <label for="inputremark" class="col-md-3 col-form-label">DMS号</label>
        <div class="col-md-9">
          {{printOrder.DMSNo}}
        </div>
      </div>
    </div>
    <div class="col-md-4 text-left">
      <div class="form-group row">
        <label for="inputremark" class="col-md-3 col-form-label">日期</label>
        <div class="col-md-9">
          {{printOrder.OrderDate}}
        </div>
      </div>
    </div>
  </div>

  <div>

    <table class="table table-bordered table-sm">
      <tbody>
        <tr>
          <td>客户名称</td>
          <td>{{printOrder.Name}}</td>
          <td>客户电话</td>
          <td>{{printOrder.Phone}}</td>
        </tr>
        <tr>
          <td>身份证/代码证</td>
          <td>{{printOrder.IdCard}}</td>
          <td>牌照属性</td>
          <td>{{printOrder.LicenseType}}</td>
        </tr>
        <tr>
          <td>证件地址</td>
          <td>{{printOrder.IdAddress}}</td>
          <td>客户性质</td>
          <td>{{printOrder.CustType}}</td>
        </tr>
        <tr>
          <td>居住地址</td>
          <td>{{printOrder.Address}}</td>
          <td>邮编</td>
          <td>{{printOrder.PostNumber}}</td>
        </tr>
      </tbody>
    </table>
    <div style="padding:8px;">一、订购车型、数量及价款</div>
    <div>
    </div>
    <table class="table table-bordered table-sm">
      <thead>
        <tr>
          <th>车型名称</th>
          <th>车身颜色</th>
          <th>内饰颜色</th>
          <th>指导价格（元）</th>
          <th>销售价格（元）</th>
          <th>数量（台）</th>
          <th>订金金额（元）</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{printOrder.CarType}}</td>
          <td>{{printOrder.CarColor}}</td>
          <td>{{printOrder.CarTrim}}</td>
          <td>{{printOrder.GuidePrice}}</td>
          <td>{{printOrder.SalePrice}}</td>
          <td rowspan="3">{{printOrder.Count}}</td>
          <td rowspan="3">{{printOrder.Deposit}}</td>
        </tr>
        <tr>
          <td>车架号码</td>
          <td colspan="2">{{printOrder.Vinno}}</td>
          <td>车辆状态</td>
          <td>{{printOrder.Status}}</td>
        </tr>
        <tr>
          <td>个性配置</td>
          <td colspan="2">{{printOrder.SelfConfig}}</td>
          <td>优惠点位或金额</td>
          <td>{{printOrder.Discount}}</td>
        </tr>
        <tr>
          <td>订金金额（大写）</td>
          <td colspan="6"></td>
        </tr>
      </tbody>
    </table>

    <div style="padding:8px;font-weight: bold">购买上述车辆客户自愿接受以下增值消费服务项目</div>

    <table class="table table-bordered table-sm">
      <thead>
        <tr>
          <th>项目</th>
          <th>商品或服务产品</th>
          <th>价格（元）</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of serviceItem">
          <td>{{item.itemName}}</td>
          <td>{{item.service}}</td>
          <td>{{item.price}}</td>
        </tr>
        <tr>
          <td>增值预估费用合计金额（小写）</td>
          <td></td>
          <td>{{printOrder.PredictFee}}</td>
        </tr>
      </tbody>
    </table>

    <div style="padding:8px;font-weight: bold">赠送商品或服务产品</div>
    <table class="table table-bordered table-sm">
      <thead>
        <tr>
          <th>项目</th>
          <th>商品或服务产品</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of giveItem">
          <td>{{item.itemName}}</td>
          <td>{{item.service}}</td>
          <td colspan="2"></td>
        </tr>
      </tbody>
    </table>
    <div style="padding:8px;">二、交付日期、地点、履行方式、付款方式</div>

    <table class="table table-sm">
      <tbody>
        <tr>
          <td>交付日期</td>
          <td>
            {{printOrder.PreCarDate}}
          </td>
          <td>交车地点</td>
          <td>{{printOrder.TakeCarSite}}</td>
          <td>联系电话</td>
          <td>{{printOrder.TakePhone}}</td>
        </tr>
        <tr *ngIf="printOrder.PickCarType=='客户自提'">
          <td>提车方式:</td>
          <td>客户自提</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr *ngIf="printOrder.PickCarType=='客户授权'">
          <td>提车方式:</td>
          <td>客户授权</td>
          <td>接车人</td>
          <td>{{printOrder.PickCarMan}}</td>
          <td>接车电话</td>
          <td>{{printOrder.PickCarMobile}}</td>
        </tr>

        <tr>
          <td>付款方式:</td>
          <td colspan="5"></td>
        </tr>
        <tr *ngIf="printOrder.PayType=='现车付款'">
          <td></td>
          <td class="longtext">现车付款：客户在签订本订单后 </td>
          <td class="longtext">{{printOrder.Days1}}</td>
          <td>日内支付合同内余款。预收余款： 元，款到释放车。</td>
          <td colspan="2"></td>
        </tr>
        <tr *ngIf="printOrder.PayType=='订单车辆付款'">
          <td></td>
          <td class="longtext">订单车辆付款：客户在接到到货通知后</td>
          <td class="longtext">{{printOrder.Days2}}</td>
          <td>日内支付合同内余款。预收余款： 元，款到释放车。</td>
          <td colspan="2"></td>
        </tr>
        <tr *ngIf="printOrder.PayType=='分期付款'">
          <td></td>
          <td colspan="5" class="longtext">分期付款</td>
        </tr>
        <tr *ngIf="printOrder.PayType=='分期付款'">
          <td class="longtext">融资机构：</td>
          <td>{{printOrder.FinaceCompany}}</td>
          <td>首付：</td>
          <td>{{printOrder.FirstFee}}</td>
          <td>分期</td>
          <td>{{printOrder.Stages}}</td>
        </tr>
        <tr *ngIf="printOrder.PayType=='分期付款'">
          <td></td>
          <td class="longtext">首付交款时间：</td>
          <td>金融机构批准放贷</td>
          <td>{{printOrder.Days3}}</td>
          <td>个工作日内，余款到账释放车辆。</td>
          <td></td>
        </tr>
      </tbody>
    </table>

  </div>

</div>
